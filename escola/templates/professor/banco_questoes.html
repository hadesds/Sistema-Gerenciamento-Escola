{% extends 'base.html' %}
{% block title %}Banco de Questões{% endblock %}


{% block content %}
    <a href="{% url 'lista_turmas_professor' %}">&larr; Voltar para minhas turmas</a>
    <h1>Banco de Questões</h1>

    <div class="card">
        <h2>Cadastrar Nova Questão</h2>
        <form action="{% url 'banco_questoes' %}" method="POST" class="form-questao">
            {% csrf_token %}
            <div class="form-group">
                <label for="materia">Matéria/Disciplina</label>
                <input type="text" name="materia" id="materia" required>
            </div>
            <div class="form-group">
                <label for="enunciado">Enunciado</label>
                <textarea name="enunciado" id="enunciado" rows="4" required></textarea>
            </div>
            <div class="form-group">
                <label for="resposta">Resposta</label>
                <textarea name="resposta" id="resposta" rows="2" required></textarea>
            </div>
            <button type="submit" class="btn btn-submit">Salvar Questão</button>
        </form>
    </div>

    <div class="card">
        <h2>Minhas Questões Cadastradas</h2>
        {% for questao in questoes %}
            <div style="border-bottom: 1px solid var(--cor-borda); padding-bottom: 1rem; margin-bottom: 1rem;">
                <strong>Matéria: {{ questao.materia }}</strong>
                <p><strong>Enunciado:</strong> {{ questao.enunciado|linebreaks }}</p>
                <p><strong>Resposta:</strong> {{ questao.resposta|linebreaks }}</p>
                <small><strong>Data de criação:</strong> {{ questao.data_criacao|date:"d/m/Y H:i" }}</small>
            </div>
        {% empty %}
            <p>Você ainda não cadastrou nenhuma questão.</p>
        {% endfor %}
    </div>
{% endblock %}